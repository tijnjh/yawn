{"version":3,"file":"DurableDeferred.js","names":["Context","Effect","Encoding","Exit","dual","Option","Schema","Workflow","TypeId","Symbol","for","make","name","options","successSchema","success","Void","errorSchema","error","Never","exitSchema","failure","defect","Defect","withActivityAttempt","gen","attempt","CurrentAttempt","EngineTag","GenericTag","InstanceTag","Reference","defaultValue","await_","fnUntraced","self","engine","instance","oexit","wrapActivityResult","deferredResult","isNone","suspend","flatten","orDie","decodeUnknown","value","await","into","effect","contextWithEffect","context","get","onExit","exit","suspended","encodedExit","encode","deferredDone","workflowName","workflow","executionId","deferredName","raceAll","deferred","isSome","effects","TokenTypeId","Token","String","pipe","brand","TokenParsed","Class","asToken","encodeBase64Url","JSON","stringify","FromString","StringFromBase64Url","compose","parseJson","Tuple","transform","decode","parsed","fromString","decodeSync","encodeSync","token","tokenFromExecutionId","tokenFromPayload","map","payload","done","succeed","fail","failCause","cause"],"sources":["../../src/DurableDeferred.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}