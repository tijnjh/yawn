{"version":3,"file":"httpClientUndici.js","names":["Cookies","_interopRequireWildcard","require","Headers","Client","Error","ClientResponse","IncomingMessage","UrlParams","Context","Effect","FiberRef","Inspectable","Layer","Option","NodeStream","Undici","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Dispatcher","exports","GenericTag","makeDispatcher","acquireRelease","sync","Agent","dispatcher","promise","destroy","dispatcherLayer","scoped","dispatcherLayerGlobal","getGlobalDispatcher","undiciOptionsTagKey","make","request","url","signal","fiber","context","getFiberRef","currentContext","options","unsafeMap","convertBody","body","pipe","flatMap","tryPromise","try","method","headers","origin","path","pathname","search","hash","headersTimeout","bodyTimeout","catch","cause","RequestError","reason","map","response","ClientResponseImpl","_tag","succeed","formData","toReadable","stream","noopErrorHandler","_","Class","source","TypeId","constructor","on","status","statusCode","statusText","undefined","cachedCookies","cookies","header","fromSetCookie","Array","isArray","empty","fromInput","remoteAddress","none","fromReadable","ResponseError","json","tryMap","text","JSON","parse","textBody","cached","runSync","urlParamsBody","URLSearchParams","formDataBody","arrayBufferBody","arrayBuffer","toJSON","inspect","_id","layerWithoutDispatcher","layerMergedContext","layer","provide"],"sources":["../../../src/internal/httpClientUndici.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}