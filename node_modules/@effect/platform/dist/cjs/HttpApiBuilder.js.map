{"version":3,"file":"HttpApiBuilder.js","names":["Cause","_interopRequireWildcard","require","Chunk","Context","Effect","Encoding","Fiber","_Function","_GlobalValue","Layer","Option","ParseResult","_Pipeable","Redacted","Schema","_Unify","HttpApi","_HttpApiError","HttpApiMiddleware","HttpApiSchema","HttpApp","HttpMethod","HttpMiddleware","HttpRouter","HttpServer","HttpServerRequest","HttpServerResponse","Multipart","OpenApi","UrlParams","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Router","Tag","exports","api","effect","Api","map","context","serve","middleware","httpApp","pipe","app","unwrapEffect","provide","Live","Middleware","layer","gen","makeMiddlewareMap","middlewares","router","applyMiddleware","toHttpApp","apiMiddlewareService","apiMiddleware","retrieve","errorSchema","makeErrorSchema","encodeError","encodeUnknown","catchAllCause","cause","matchEffect","squash","onFailure","failCause","onSuccess","succeed","buildMiddleware","fnUntraced","middlewareMap","toWebHandler","options","layerMerged","mergeAll","toWebHandlerLayerWith","memoMap","toHandler","HandlersTypeId","Symbol","for","HandlersProto","_Endpoints","identity","pipeArguments","arguments","handle","name","handler","endpoint","group","endpoints","makeHandlers","handlers","append","withFullRequest","uninterruptible","handleRaw","self","create","groupName","build","use","groups","result","empty","isEffect","groupMiddleware","routes","item","push","handlerToRoute","request","mapInputContext","input","merge","concat","fromIterable","_api","_groupName","_name","requestPayload","urlParams","multipartLimits","hasBody","method","contentType","headers","toLowerCase","trim","includes","orDie","json","match","onNone","multipart","onSome","limits","withLimits","urlParamsBody","toRecord","startsWith","text","arrayBuffer","buffer","Uint8Array","initial","Map","forEach","tag","key","unsafeGet","isSingleStringType","ast","_tag","undefined","ps","propertySignatures","find","type","indexSignatures","some","is","make","parameter","types","from","normalizeUrlParams","params","out","value","Array","isArray","endpoint_","isFullRequest","isMultipartStream","payloadSchema","getMultipartStream","getOrElse","constFalse","flatMapNullable","getMultipart","decodePath","pathSchema","decodeUnknown","decodePayload","none","decodeHeaders","headersSchema","encodeSuccess","encode","makeSuccessSchema","successSchema","makeRoute","path","fiber","getOrThrow","getCurrentFiber","currentContext","httpRequest","routeContext","RouteContext","ParsedSearchParams","payload","flatMap","multipartStream","withLimitsStream","urlParamsSchema","schema","response","isServerResponse","catchIf","isParseError","HttpApiDecodeError","refailParseError","entry","values","SecurityTypeId","makeSecurityMiddleware","optional","previous","provides","provideService","_","provideServiceEffect","zipRight","securityMiddlewareCache","globalValue","security","entries","decode","securityDecode","catchAll","void","responseSchema","declare","schemas","Set","deunionize","Union","toResponseSuccess","toResponseError","decodeForbidden","__","fail","Forbidden","toResponseSchema","getStatus","cache","schemaToResponse","data","isEmpty","isVoid","to","status","encoding","getEncoding","kind","mapError","error","Type","uint8Array","transform","transformOrFail","getStatusSuccessAST","getStatusErrorAST","sync","of","add","prev","middlewareAdd","service","middlewareAddNoContext","args","apiFirst","isHttpApi","withContext","scopedDiscard","middlewareCors","cors","middlewareOpenApi","spec","fromApi","additionalPropertiesStrategy","bearerLen","length","basicLen","authorization","slice","in","Struct","String","unify","schemaSearchParams","schemaCookies","schemaHeaders","username","password","decodeBase64String","header","parts","split","securitySetCookie","stringValue","appendPreResponseHandler","_req","setCookie","secure","httpOnly"],"sources":["../../src/HttpApiBuilder.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}