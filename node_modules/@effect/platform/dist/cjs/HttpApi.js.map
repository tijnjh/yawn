{"version":3,"file":"HttpApi.js","names":["Context","_interopRequireWildcard","require","Option","_Pipeable","Predicate","Record","AST","_HttpApiError","HttpApiSchema","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","pipeArguments","arguments","add","group","makeProto","identifier","groups","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","setPrototypeOf","make","Map","HttpApiDecodeError","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","inherited","getStatus","members","process","type","isNeverKeyword","extractAnnotations","isEmptyRecord","emptyDecodeable","getEmptyDecodeable","current","description","none","orElse","getDescriptionOrIdentifier","UnionUnifyAST","isVoidKeyword","encodedAST","some","extractUnionTypes","forEach","topAst","encoding","getEncoding","contentType","getMultipart","getMultipartStream","undefined","Union","types","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}