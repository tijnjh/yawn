{"version":3,"file":"Lmdb.js","names":["Arr","Effect","identity","Layer","Option","Lmdb","Persistence","make","options","gen","lmdb","acquireRelease","sync","open","promise","close","BackingPersistence","of","BackingPersistenceTypeId","storeId","clock","store","openDB","name","valueToOption","key","_","isArray","none","value","expires","unsafeCurrentTimeMillis","remove","some","get","try","catch","error","PersistenceBackingError","getMany","keys","map","tryPromise","i","set","ttl","put","unsafeTtlToExpires","setMany","entries","Promise","all","clear","clearAsync","layer","scoped","layerResult","pipe","provide"],"sources":["../../../src/Persistence/Lmdb.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}