{"version":3,"file":"Reactivity.js","names":["Context","Effect","Exit","FiberHandle","dual","Hash","Layer","Mailbox","Scope","Stream","Reactivity","Tag","make","sync","handlers","Map","unsafeInvalidate","keys","Array","isArray","i","length","set","get","stringOrHash","undefined","run","record","key","hashes","idHashes","invalidate","mutation","effect","zipLeft","unsafeRegister","handler","resolvedKeys","map","recordHashes","Set","add","delete","size","query","gen","scope","results","runFork","makeRuntime","running","pending","handleExit","exit","_tag","unsafeDone","failCause","cause","unsafeOffer","value","addObserver","cancel","addFinalizer","stream","tables","pipe","toStream","unwrapScoped","of","flatMap","r","layer","scoped","u","hash","keyHash","ids","push","idHash"],"sources":["../../src/Reactivity.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}