{"version":3,"file":"Lmdb.js","names":["Arr","_interopRequireWildcard","require","Effect","_Function","Layer","Option","Lmdb","Persistence","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","make","options","gen","lmdb","acquireRelease","sync","open","promise","close","BackingPersistence","of","BackingPersistenceTypeId","storeId","clock","store","openDB","name","valueToOption","key","_","isArray","none","value","expires","unsafeCurrentTimeMillis","remove","some","identity","try","catch","error","PersistenceBackingError","getMany","keys","map","tryPromise","ttl","put","unsafeTtlToExpires","setMany","entries","Promise","all","clear","clearAsync","exports","layer","scoped","layerResult","pipe","provide"],"sources":["../../../src/Persistence/Lmdb.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}