{"version":3,"file":"RpcGroup.js","names":["Context","Effect","identity","Layer","Schema","Stream","Rpc","TypeId","Symbol","for","RpcGroupProto","add","rpcs","makeProto","requests","resolveInput","values","annotations","merge","groups","Map","unsafeMap","group","tag","rpc","set","key","value","unsafeMake","middleware","toHandlersContext","build","gen","context","handlers","isEffect","contextMap","handler","Object","entries","get","prefix","newRpc","_tag","toLayer","scopedContext","of","toLayerHandler","accessHandler","contextWith","parentContext","payload","options","result","effectOrStream","isWrapper","provide","provideContext","annotate","annotateRpcs","annotateRpcsContext","make","annotateContext","assign","isSchema","fromTaggedRequest","empty"],"sources":["../../src/RpcGroup.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}