{"version":3,"file":"Rpc.js","names":["Context_","_interopRequireWildcard","require","_GlobalValue","Option","_Pipeable","Predicate","PrimaryKey","Schema","RpcSchema","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isRpc","u","hasProperty","Proto","pipe","pipeArguments","arguments","setSuccess","successSchema","makeProto","_tag","payloadSchema","errorSchema","annotations","middlewares","setError","setPayload","isSchema","Struct","middleware","Set","prefix","annotate","tag","value","add","annotateContext","context","merge","options","Rpc","setPrototypeOf","assign","key","make","success","Void","error","Never","primaryKey","Payload","Class","payload","symbol","stream","Stream","failure","empty","fromTaggedRequest","schema","exitSchemaCache","globalValue","exitSchema","self","rpc","failures","streamSchemas","getStreamSchemas","ast","isSome","Exit","Union","defect","Defect","WrapperTypeId","isWrapper","wrap","fork","uninterruptible"],"sources":["../../src/Rpc.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}